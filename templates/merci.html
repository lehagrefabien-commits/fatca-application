<!doctype html>
<html lang="{{ lang }}">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{{ t.ready_title }}</title>

  <style>
    :root{
      --bg:#ffffff;
      --text:#0f172a;
      --muted:#475569;
      --line: rgba(15, 23, 42, 0.12);
      --btn:#111827;
      --btnText:#ffffff;
      --focus: rgba(99, 102, 241, 0.25);
    }
    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      background: var(--bg);
      color: var(--text);
      min-height:100vh;
    }
    .topbar{
      height:64px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding: 0 22px;
      border-bottom: 1px solid var(--line);
    }
    .brand{ font-weight:800; letter-spacing:-0.2px; }
    .logo{ height:52px; width:auto; display:block; }

    .wrap{
      max-width: 980px;
      margin: 0 auto;
      padding: 46px 22px 70px 22px;
    }
    .card{
      max-width: 760px;
      margin: 0 auto;
      padding: 40px 30px;
      border: 1px solid var(--line);
      border-radius: 18px;
      background:#fff;
    }
    h1{
      margin:0 0 10px 0;
      font-size: clamp(24px, 3vw, 34px);
      line-height:1.15;
      letter-spacing:-0.5px;
    }
    p{
      margin: 0 0 18px 0;
      color: var(--muted);
      font-size: 16px;
      line-height:1.7;
    }
    .actions{ margin: 18px 0 28px 0; }
    a.btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      height: 46px;
      padding: 0 18px;
      border-radius: 12px;
      text-decoration:none;
      font-weight:900;
      background: var(--btn);
      color: var(--btnText);
      border: 1px solid rgba(17,24,39,0.95);
      box-shadow: 0 10px 24px rgba(15,23,42,0.12);
    }
    a.btn:hover{ opacity:0.95; }

    .divider{
      margin: 32px 0 18px 0;
      border-top: 1px solid var(--line);
    }
    h2{
      margin: 0 0 10px 0;
      font-size: 18px;
      letter-spacing:-0.2px;
    }
    .rgpd{
      margin-top: 16px;
      font-size: 13px;
      color: var(--muted);
      line-height:1.55;
      max-width: 95ch;
    }

    /* ====== DON + A PROPOS (colonne droite) ====== */
    .don-layout{
      display: grid;
      grid-template-columns: 1fr 360px;
      gap: 24px;
      align-items: start;
      margin-top: 10px;
    }

    .don-about{
      border: 1px solid var(--line);
      border-radius: 16px;
      padding: 18px;
      background: #fff;
      color: var(--text);
      position: sticky;
      top: 24px;
    }

    .don-about h3{
      margin: 0 0 10px 0;
      font-size: 18px;
      letter-spacing: -0.2px;
    }

    .don-about p{
      color: var(--muted);
      font-size: 14px;
      line-height: 1.65;
      margin: 0 0 12px 0;
    }

    .don-about p strong{
      color: var(--text);
    }

    .about-image{
      width: 100%;
      height: auto;
      border-radius: 12px;
      display:block;
      margin: 12px 0 14px 0;
      border: 1px solid var(--line);
    }

    /* Responsive */
    @media (max-width: 900px){
      .don-layout{
        grid-template-columns: 1fr;
      }
      .don-about{
        position: static;
      }
    }
  </style>
</head>

<body>
  <div class="topbar">
    <div class="brand">FATCA • RGPD • Belgique</div>
    <img class="logo" src="/static/aaa-logo.png" alt="AAA">
  </div>

  <div class="wrap">
    <div class="card">

      <h1>{{ t.ready_title }}</h1>
      <p>{{ t.ready_sub }}</p>

      <div class="actions">
        <a class="btn" href="{{ download_url }}">{{ t.download }} →</a>
      </div>

      <div class="divider"></div>

      <h2>{{ t.support_title }}</h2>
      <p>{{ t.support_sub }}</p>

      <!-- CONTAINER DON + A PROPOS -->
      <div class="don-layout">

        <!-- DON -->
        <div class="don-main">
          <div class="iframe-asc-container"
               data-type="collect"
               data-collect-id="01KDMS06DAP5ABR1CQM508SWRS">
          </div>
        </div>

        <!-- A PROPOS (toujours visible à droite) -->
        <aside class="don-about">
          <h3>À propos</h3>

          <img src="{{ url_for('static', filename='img/fatca-combat.jpg') }}"
               alt="Combat contre FATCA"
               class="about-image">

          <p>
            <strong>Soutenir l’AAA, c’est combattre FATCA en Europe.</strong>
          </p>

          <p>
            L’Association des Américains Accidentels (AAA) mène depuis plusieurs années
            un combat juridique et politique contre FATCA, une loi américaine aux effets
            extraterritoriaux portant atteinte aux droits fondamentaux et à la protection
            des données personnelles en Europe.
          </p>

          <p>
            Par ses actions devant les autorités nationales et européennes, l’AAA a
            contribué à faire émerger un enjeu majeur : la compatibilité des transferts
            massifs de données financières vers les États-Unis avec le RGPD et le respect
            de la vie privée.
          </p>
        </aside>

      </div>

      <script src="https://www.americains-accidentels.fr/public/build/js/iframe.js"></script>

      <p class="rgpd">
        Les informations renseignées dans le cadre du formulaire de don sont collectées
        et traitées par l’Association des Américains Accidentels (AAA), en qualité de responsable
        de traitement, conformément à sa politique de confidentialité.
      </p>

    </div>
  </div>
</body>
</html>
